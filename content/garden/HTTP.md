---
title   : HTTP
date    : 2021-05-10 21:47:34 +0900
updated : 2021-05-11 21:31:22 +0900
aliases : 
private : false
hidden  : false
showReferences : true
---
**HTTP(HyperText Transfer Protocol)**   
처음에는 HTML을 전송하기 위핸 프로토콜로 만들어졌는데 이젠 모든 것을 전송하기 위해 사용한다.  
- HTML, TEXT
- image, 음성, 영상, 파일
- JSON, XML(API)
- 거의 모든 형태의 데이터 전송 가능
- 서버간 데이터 전송도 가능 

## HTTP 역사 
- HTTP/1.1, 1997년: 가장 많이 사용, 중요한 버전 
	- 이 이후로는 성능 개선에 초점이 맞춰져 있다.  

## 기반 프로토콜  
- TCP: HTTP/1.1, HTTP/2 
- UDP: HTTP/3  
- 현재 HTTP/1.1 주로 사용
	- HTTP/2, HTTP/3 도 점점 증가

## HTTP의 특징
단순하고 확장이 가능하다! 

### 클라이언트 서버 구조
- Request, Response 구조
- 클라이언트는 서버에 요청을 보내고 응답을 대기한다. 
- 서버가 요청에 대한 결과를 만들어서 응답한다. 
- 클라이언트와 서버가 개념적으로 분리되어 비즈니스 로직, 데이터는 서버에 넣고 클라이언트는 UI, UX에 집중할 수 있다. 
	- → **클라이언트, 서버가 각각 독립적으로 발전이 가능해진다.** 


### 무상태 프로토콜(Stateless)  
 ↔ Stateful (상태유지)
- 서버가 클라이언트의 상태를 보존하지 않는다.
- 장점: 서버의 확장성이 높아진다(scale out, 수평 확장 유리)
- 단점: 클라이언트가 추가 데이터를 전송 

예시, 서버가 중간에 장애가 일어난다면 ? 
- 무상태의 경우 고객이 필요한 데이터를 그때그때 넘기기때문에 중간에 장애가 일어나도 상관이 없다. 
	- 갑자기 클라이언트 요청이 증가해도 서버를 대거 투입 가능 
	- 응답 서버를 쉽게 바꿀 수 있다는 것 → 무한한 서버 증설이 가능 
- 상태 유지인 경우 항상 같은 서버가 유지되어야 한다.  

#### 실무에서의 한계 
- 모든 것을 무상태로 설계가능할  수도 있고 없을 수도 있다. 
- 무상태, 로그인이 필요 없는 단순한 서비스 소개 화면
- 상태, 로그인 
- 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지 
- 일반적으로 브라우저 쿠키와 서버 세션등을 사용해 상태 유지 
- **상태 유지는 최소한만 사용**

### 비 연결성
- 서버가 연결을 계속 유지한다면, 서버의 자원은 계속 소모된다.  
- 서버가 데이터를 주고 받은 후 연결을 유지하지 않는다면, 최소한의 자원만 유지한다.(연결되어 요청을 주고 받는 중에만)
- **HTTP는 연결을 유지하지 않는 모델** 
	- 일반적으로 초 단위 이하의 빠른 속도로 응답 
	- 서버 자원을 매우 효율적으로 사용할 수 있다. 

#### 비 연결성의 한계와 극복 
- TCP/IP 연결을 새로 맺어야 한다. - 3 way handshake 시간 추가 
- 웹 브라우저로 사이트 요청시 HTML 뿐 아니라 기타 리소스(js, css, 이미지 등) 을 함께 다운로드 
- **HTTP 지속 연결(Persistent Connections)**로 문제 해결 
- HTTP/2, HTTP/3에서 더 많은 최적화 

### HTTP 메시지


## reference 
- [inflearn-모든 개발자를 위한 HTTP 웹 기본 지식](https://inf.run/q4wV)