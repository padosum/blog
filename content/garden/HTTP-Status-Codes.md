---
title   : HTTP 상태 코드
date    : 2021-05-19 21:29:41 +0900
updated : 2021-05-19 21:30:00 +0900
aliases : ["HTTP 상태 코드"]
private : false
hidden  : false
showReferences : true
---
## 상태 코드란 
- 클라이언트가 보낸 요청의 처리 상태를 응답에서 알려주는 기능 
- 새로운 상태 코드가 나온다면? 
  - 클라이언트는 맨 앞자리(상위 상태코드)로 해석해서 처리한다. 

### 1xx (Informational)
- 요청이 수신되어 처리중 

### 2xx (Successful)
- 요청 정상 처리
- 200 OK
- 201 Created
  - 요청을 받고 서버쪽에서 새로운 리소스를 생성한 것 
  - 생성된 리소스는 응답의 `Location` 헤더 필드로 식별 
- 202 Accepted
  - 요청이 접수되었지만 처리가 완료되지 않음 
  - 배치 처리 같은 곳, 요청 접수 후 1시간 뒤 배치 프로세스가 요청을 처리, 잘 사용하지 않는다. 
- 204 No Content 
  - 요청을 수행했지만 응답 페이로드 본문에 보낼 데이터가 없음 
  - 웹 문서 편집기에서 save 버튼
    - save 버튼을 눌러도 같은 화면을 유지 
- 모든 상태 코드를 사용하는 것이 아닌 팀에서 내부적으로 정한다. 보통 200, 201만 

### 3xx (Redirection)
- 요청을 완료하려면 추가 행동 필요
- 리다이렉션?
  - 웹 브라우저는 3xx 응답 결과에 Location 헤더가 있다면 Location 위치로 이동한다. 
  - 종류
    - 영구 리다이렉션 - 특정 리소스의 URI가 영구적으로 이동 
    - 일시 리다이렉션 - 일시적인 변경, 주문 완료 후 주문 내역 화면으로 이동(PRG: Post/Redirect/Get)
      - PRG 
        - POST로 주문 후 웹 브라우저를 새로고침(마지막 요청을 재요청)하는 경우 (중복 주문이 될 수 있음) + 서버에서도 막아야함 
    - 특수 리다이렉션 - 결과 대신 캐시를 사용 (캐시가 있는지 확인한 후)
- 300 Multiple Choices 
  - 사용안함 
- 301 Moved Permanently (영구 리다이렉션)
  - 리다이렉트 요청 메서드가 GET으로 변함, 본문이 제거될 수 있다.
- 302 Found (일시 리다이렉션)
  - 리다이렉트시 요청 메서드가 GET으로 변할 수 있다.
    - 처음에는 메서드 유지였는데 브라우저들이 GET으로 바꿔버림, 모호하기 때문에 307, 303이 등장 
  - 본문이 제거될 수 있다. 
  - 302를 보편적으로 사용한다.  
- 303 See Other (일시 리다이렉션) 
  - 302와 기능은 같다.
  - **리다이렉트시 요청 메서드가 GET으로 변경** 
- 304 Not Modified 
  - 캐시를 목적으로 
  - 클라이언트에게 리소스가 수정되지 않았음을 확인, 저장된 캐시를 재사용 
    - 응답에 메시지 바디를 포함하면 안된다. (캐시를 사용하므로)
- 307 Temporary Redirect (일시 리다이렉션)
  - 302와 기능은 같다.
  - **리다이렉트시 요청 메서드와 본문 유지**(요청 메서드를 변경하면 안된다.)
- 308 Permanent Redirect (영구 리다이렉션) 
  - 301과 기능은 같다. 
  - 리다이렉트 요청 메서드와 본문 유지됨 

### 4xx (Client Error)
- **클라이언트 오류**, 서버가 요청을 수행할 수 없음
  - 잘못된 문법등 
- 클라이언트가 이미 잘못 요청을 한 것, **똑같은 요청을 재시도해도 실패**한다. 
- 400 Bad Request
  - 클라이언트가 잘못한 요청을해서 서버가 처리할 수 없음
  - 요청 구문, 메시지 오류 등
  - 클라이언트가 요청을 다시 검토해서 보내야한다. 
- 401 Unauthorized 
  - 클라이언트가 해당 리소스에 대한 인증이 필요 
  - 응답에 `WWW-Authenticate` 헤더와 함께 인증 방법을 설명 
  - 인증: 본인이 누군지 확인 
  - 인가: 권한 부여, 인증이 있어야 인가가 있다. 
  - 오류 메시지가 Unauthorized 이지만 인증에 대한 것이다. 
- 403 Forbidden
  - 인증 자격 증명은 있으나 권한이 불충분 
  - 관리자 등급이 아닌데 관리자 등급 리소스에 접근했을 때 
- 404 Not Found
  - 요청 리소스가 서버에 없음 
  - 권한이 부족한 리소스에 접근할 때 해당 리소스를 숨기고 싶다면 
### 5xx (Server Error)
- **서버 오류**, 서버가 요청을 처리하지 못함 
- 재시도할 때 성공할 수도 있다. (서버가 복구된 경우)
- 500 Internal Server Error
  - 서버 내부 문제 오류 
- 503 Service Unavailable 
  - 서비스 이용 불가 
  - 일시적 과부하 또는 예정된 작업으로 잠시 요청 처리 불가 
  - `Retry-After` 헤더 필드로 얼마뒤에 복구되는지 보낼 수 있다. 
- 서버에서 웬만하면 500대 에러를 발생시키면 안된다. 
  - **진짜 서버에 문제가 있을때만! (심각한)**