---
title   : 2023년 07월 07일 
date    : 2023-07-07 21:17:29 +0900
updated : 2023-07-07 21:54:56 +0900
aliases : 
draft : false
description : 일렁일렁
---

## 📚 오늘 도전하고, 배운 것

- [[Testing-Redux-Toolkit-Query-with-MSW|MSW로 Redux Toolkit Query 테스트하기]]

## 🤔 학습하면서 궁금하거나 어려웠던 점

RTKQ를 사용해서 어제 생긴 문제는 해결이 되었다. 가장 큰 근본적인 문제는 내가 라이브러리 사용법을 잘 숙지하지 못했다는 점이고 그로 인해서 불필요한 작업을 했기 때문이었다. `useQuery` hook을 사용하고 컴포넌트에서 state 변경을 위한  `dispatch`를 했더니 무엇이 꼬이고 꼬여서 원하는대로 동작하지 않았다.  

원인은 Redux에게 상태  관리와 data fetching 기능을 한데 모아놨는데 그걸 컴포넌트에서 조작했기 때문이라고 생각한다. query를 요청한 다음에 다음 후속 작업을 하기 위해서는 Middleware나 `onQueryStarted` 같은 것들로 처리할 수 있었다. 나는 이걸 컴포넌트에서 했기 때문에 이중으로 작업을 하고 코드도 이해하기 힘들어졌다. 해당 작업은 라이브러리에 위임된 것이고 컴포넌트는 렌더링만 하면 된다고 생각하지 못했다. 문제를 해결하니 `useEffect`가 있던 컴포넌트가 한결 가벼워졌다.

## 🌅 내일은 무엇을?

## ✒️ log
- 집앞 카페에서 페어 프로그래밍을 했다. 비가 많이 왔지만 안에 있으니 쾌적했다. 
